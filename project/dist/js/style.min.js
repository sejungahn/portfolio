class MainCommon{constructor(){this.html=document.documentElement,this.body=document.body,this.header=document.querySelector(".header"),this.mainVisual=document.querySelector(".main-visual"),this.scrollButton=document.querySelector(".btn-scroll"),this.workImg=document.querySelector(".work-img--box"),this.workLastImg=document.querySelector(".work-list5"),this.workImgTrigger,this.workImgContents=[".work-list2",".work-list3",".work-list4",".work-list5"],this.workImgList=document.querySelectorAll(".work-text--img li"),this.isActive=!0}init=()=>{this.initScreen(),this.bindEvents()};initScreen=()=>{this.setMainVisualHeight(),this.gsapRegister(),480<window.innerWidth?this.workFixScroll():this.killWorkImg()};bindEvents=()=>{window.addEventListener("resize",this.setMainVisualHeight),document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("scroll",this.headerOn)}),this.html.addEventListener("mousewheel",this.visualScroll),this.scrollButton.addEventListener("click",this.btnScrollEvent),window.addEventListener("resize",this.resizeWorkFixScroll),this.workImgList.forEach(t=>{t.addEventListener("click",this.workSwapImgClickHandler)})};setMainVisualHeight=()=>{var t;this.mainVisual&&(t=.01*document.documentElement.clientHeight,this.mainVisual.style.setProperty("--vh",t+"px"))};headerOn=()=>{window.scrollY>=this.mainVisual.offsetTop+this.mainVisual.offsetHeight?this.header.classList.add("on"):this.header.classList.remove("on")};visualScroll=t=>{var e,i;this.isActive&&(0<=(e=this.html.scrollTop||this.body.scrollTop)&&e<this.mainVisual.offsetHeight?(this.isActive=!1,i=0<t.deltaY?this.mainVisual.offsetHeight:0,window.addEventListener("wheel",this.preventEventDefault,{passive:!1}),this.scrollWindow(i)):e===Math.ceil(this.mainVisual.offsetHeight)&&t.deltaY<0?(this.isActive=!1,window.addEventListener("wheel",this.preventEventDefault,{passive:!1}),this.scrollWindow(0)):(this.isActive=!0,window.removeEventListener("wheel",this.preventEventDefault)))};scrollWindow=e=>{if(!this.isActive){let t=this;$("html, body").stop(!0).animate({scrollTop:e},{start:function(){window.addEventListener("wheel",t.preventEventDefault,{passive:!1})},duration:700,complete:function(){t.isActive=!0}})}};btnScrollEvent=()=>{this.isActive&&(this.isActive=!1,this.scrollWindow(this.mainVisual.offsetHeight),this.header.classList.add("on"))};preventEventDefault=t=>{t.preventDefault()};gsapRegister=()=>{gsap.registerPlugin(ScrollTrigger)};workFixScroll=()=>{this.killWorkImg(),this.workImgTrigger=ScrollTrigger.create({trigger:this.workImg,pin:!0,pinSpacing:!1,start:"center center",end:()=>"+="+(this.workLastImg.getBoundingClientRect().bottom-this.workImg.getBoundingClientRect().bottom-80)}),480<window.innerWidth&&this.workImgContents.forEach(t=>{var e=document.querySelector(t),t=document.querySelector(t+"--img");gsap.set(t,{y:0,yPercent:100}),gsap.to(t,{yPercent:0,ease:"none",scrollTrigger:{trigger:e,start:()=>"top 50%+="+this.workImg.offsetHeight/2+"px",end:()=>"+="+this.workImg.offsetWidth,scrub:!0}})})};resizeWorkFixScroll=()=>{480<window.innerWidth?this.workFixScroll():this.workImgTrigger&&this.workImgTrigger.kill(),ScrollTrigger.refresh()};killWorkImg=()=>{this.workImgTrigger&&this.workImgTrigger.kill()};workSwapImgClickHandler=t=>{var t=t.currentTarget,e=t.parentNode.closest("li").classList[0],i=document.querySelector(`.work-img--list .${e}--img`),e=document.querySelector(`.${e} .work-img--list img`);console.log(e),480<window.innerWidth?this.workSwapImg(t,i):this.workSwapImg(t,e)};workSwapImg=(t,e)=>{var i=t.querySelector("img").getAttribute("src"),r=t.querySelector("img").getAttribute("alt"),s=e.getAttribute("src"),o=e.getAttribute("alt");t.querySelector("img").setAttribute("src",s),t.querySelector("img").setAttribute("alt",o),e.setAttribute("src",i),e.setAttribute("alt",r)}}if(0<document.querySelectorAll(".main").length){const y=new MainCommon;y.init()}
class Common{constructor(){this.scrollTarget=document.querySelectorAll(".motion"),this.observer}init=()=>{this.bindEvents()};bindEvents=()=>{this.observeIntersection(this.scrollTarget,this.addActiveClass,this.removeActiveClass)};observeIntersection=(e,t,r)=>{this.observer=new IntersectionObserver(e=>{e.forEach(e=>{var s=e.target;(e.isIntersecting?t:r)(s)})}),e.forEach(e=>{this.observer.observe(e)})};addActiveClass=e=>{e.classList.add("is-active")};removeActiveClass=e=>{e.classList.remove("is-active")}}if(0<document.querySelectorAll(".wrap").length){const j=new Common;j.init()}
class SubCommon{constructor(){this.header=document.querySelector(".header"),this.subContent=document.querySelector(".sub-content"),this.imgLists=document.querySelectorAll(".sub-detail--img-list"),this.imgArray=Array.from(this.imgLists),this.btnPrev=document.querySelector(".btn-prev"),this.btnNext=document.querySelector(".btn-next"),this.activeImg=0,this.imgCurrentNum=document.querySelector(".current"),this.imgTotalNum=document.querySelector(".total")}init=()=>{this.bindEvents(),this.initScreen()};initScreen=()=>{this.setHeaderHeight(),this.changeCurrent(this.activeImg+1,this.imgLists.length),this.setBtnDisabled()};bindEvents=()=>{this.btnPrev.addEventListener("click",this.prevImgSlide),this.btnNext.addEventListener("click",this.nextImgSlide),this.imgLists.forEach(t=>{t.addEventListener("touchstart",this.touchImgSlide),t.addEventListener("touchend",this.touchImgSlide)}),window.addEventListener("resize",this.setHeaderHeight)};setHeaderHeight=()=>{var t=this.header.clientHeight+5;this.subContent.style.setProperty("--hh",t+"px")};prevImgSlide=()=>{if(!(0<this.activeImg))return!1;this.activeImg--,this.changeCurrent(this.activeImg+1,this.imgLists.length),this.imgSlide(this.activeImg)};nextImgSlide=()=>{if(!(this.activeImg<this.imgLists.length-1))return!1;this.activeImg++,this.changeCurrent(this.activeImg+1,this.imgLists.length),this.imgSlide(this.activeImg)};touchImgSlide=t=>{var e;"touchstart"===t.type?(this.touchstartX=t.changedTouches[0].screenX,this.touchstartY=t.changedTouches[0].screenY):"touchend"===t.type&&(this.touchendX=t.changedTouches[0].screenX,this.touchendY=t.changedTouches[0].screenY,t=this.touchstartX-this.touchendX,e=this.touchstartY-this.touchendY,Math.abs(t)>Math.abs(e)+50)&&(0<t?this.nextImgSlide():this.prevImgSlide())};imgSlide=i=>{this.imgLists.forEach((t,e)=>{t.classList.remove("active"),setTimeout(function(){e===i&&t.classList.add("active")},200),this.btnPrev.disabled=0===i,this.btnNext.disabled=i===this.imgLists.length-1})};setBtnDisabled=()=>{this.imgLists.length<=1&&(this.btnPrev.disabled=!0,this.btnNext.disabled=!0)};changeCurrent=(t,e)=>{this.imgCurrentNum.textContent=t,this.imgTotalNum.textContent=e}}if(0<document.querySelectorAll(".sub-content").length){const k=new SubCommon;k.init()}